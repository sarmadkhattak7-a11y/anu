<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Queen Anu</title>
    
    <!-- 1. Load Static CSS (No Javascript = No Errors) -->
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- 2. Load Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- 3. Custom Styles -->
    <style>
        /* Typography */
        body { font-family: 'Lato', sans-serif; }
        h1, h2, h3, h4, h5, h6, .font-serif { font-family: 'Playfair Display', serif; }
        
        /* Custom Colors & Utilities */
        .bg-pink-50 { background-color: #fdf2f8; }
        .bg-pink-100 { background-color: #fce7f3; }
        .bg-pink-200 { background-color: #fbcfe8; }
        .bg-pink-500 { background-color: #ec4899; }
        .text-pink-400 { color: #f472b6; }
        .text-pink-500 { color: #ec4899; }
        .text-pink-600 { color: #db2777; }
        .border-pink-100 { border-color: #fce7f3; }
        .border-pink-200 { border-color: #fbcfe8; }

        .backdrop-blur { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
        .text-transparent { color: transparent; }
        .bg-clip-text { -webkit-background-clip: text; background-clip: text; }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-pink-400 { --tw-gradient-from: #f472b6; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(244, 114, 182, 0)); }
        .to-purple-400 { --tw-gradient-to: #c084fc; }

        /* Animations */
        .animate-spin-slow { animation: spin 10s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Image Error Handling */
        .img-error {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f3f4f6;
            color: #ef4444;
            font-size: 0.75rem;
            text-align: center;
            border: 2px dashed #fca5a5;
            padding: 1rem;
            height: 100%;
            width: 100%;
            min-height: 200px;
        }
    </style>
    
    <!-- 4. Load React -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-pink-50 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- CUSTOM IMAGE CONFIGURATION ---
        const MEDIA = {
            hero: "hero.jpg",
            class6: "class6.jpg",
            now: "now.jpg",
            gallery1: "photo1.jpg",
            gallery2: "photo2.jpg",
            gallery3: "photo3.jpg",
            gallery4: "photo4.jpg",
            gallery5: "photo5.jpg",
            gallery6: "photo6.jpg"
        };

        // --- ICONS (Inlined) ---
        const Icon = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );
        const Heart = (p) => <Icon {...p}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></Icon>;
        const Crown = (p) => <Icon {...p}><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14" /></Icon>;
        const Sparkles = (p) => <Icon {...p}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275-1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H3"/><path d="M19 19v4"/><path d="M22 21h-6"/><path d="M21 5h-4"/><path d="M19 3v4"/><path d="M5 21H3"/><path d="M5 19v4"/></Icon>;
        const Gift = (p) => <Icon {...p}><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></Icon>;
        const Play = (p) => <Icon {...p}><polygon points="5 3 19 12 5 21 5 3" /></Icon>;
        const Pause = (p) => <Icon {...p}><rect x="6" y="4" width="4" height="16" /><rect x="14" y="4" width="4" height="16" /></Icon>;
        const Camera = (p) => <Icon {...p}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></Icon>;
        const Calendar = (p) => <Icon {...p}><rect width="18" height="18" x="3" y="4" rx="2" ry="2" /><line x1="16" x2="16" y1="2" y2="6" /><line x1="8" x2="8" y1="2" y2="6" /><line x1="3" x2="21" y1="10" y2="10" /></Icon>;
        const ImageIcon = (p) => <Icon {...p}><rect width="18" height="18" x="3" y="3" rx="2" ry="2" /><circle cx="9" cy="9" r="2" /><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21" /></Icon>;
        const Mail = (p) => <Icon {...p}><rect width="20" height="16" x="2" y="4" rx="2" /><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></Icon>;
        const Quote = (p) => <Icon {...p}><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z" /><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z" /></Icon>;
        const Shuffle = (p) => <Icon {...p}><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6c.8-1 1.9-1.7 3.1-1.7H22" /><path d="m2 5 1.5 1.4c1.3 1.2 3 1.9 4.8 1.9h.8" /><path d="M15.7 15.7c.8 1 1.9 1.7 3.1 1.7H22" /></Icon>;
        const Wand2 = (p) => <Icon {...p}><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z" /><path d="m14 7 3 3" /><path d="M5 6v4" /><path d="M19 14v4" /><path d="M10 2v2" /><path d="M7 8H3" /><path d="M21 16h-4" /><path d="M11 3H9" /></Icon>;
        const Moon = (p) => <Icon {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" /></Icon>;
        const Feather = (p) => <Icon {...p}><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z" /><line x1="16" x2="2" y1="8" y2="22" /><line x1="17.5" x2="9" y1="15" y2="15" /></Icon>;
        const Map = (p) => <Icon {...p}><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21" /><line x1="9" x2="9" y1="3" y2="18" /><line x1="15" x2="15" y1="6" y2="21" /></Icon>;
        const Star = (p) => <Icon {...p}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" /></Icon>;
        const MessageCircle = (p) => <Icon {...p}><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z" /></Icon>;
        const X = (p) => <Icon {...p}><path d="M18 6 6 18" /><path d="m6 6 12 12" /></Icon>;
        const Headphones = (p) => <Icon {...p}><path d="M3 18v-6a9 9 0 0 1 18 0v6" /><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z" /></Icon>;
        const Calculator = (p) => <Icon {...p}><rect width="16" height="20" x="4" y="2" rx="2" /><line x1="8" x2="16" y1="6" y2="6" /><line x1="16" x2="16" y1="14" y2="18" /><path d="M16 10h.01" /><path d="M12 10h.01" /><path d="M8 10h.01" /><path d="M12 14h.01" /><path d="M8 14h.01" /><path d="M12 18h.01" /><path d="M8 18h.01" /></Icon>;

        // --- GEMINI API HELPER ---
        const callGemini = async (prompt) => {
            // ---------------------------------------------------------
            // üî¥ PASTE YOUR API KEY HERE
            // ---------------------------------------------------------
            const apiKey = "AIzaSyBYpEwGt2vC8rBmWhaUKLURNXn99j2ou0U";
            
            if (!apiKey) return "Please add your API Key in the code to make the magic work! ‚ú®";

            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            for (let i = 0; i < 3; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    if (!response.ok) throw new Error(`API call failed`);
                    const data = await response.json();
                    return data.candidates?.[0]?.content?.parts?.[0]?.text || "Magic fading...";
                } catch (error) {
                    if (i === 2) return "The stars are cloudy right now. ‚ú®";
                    await delay(Math.pow(2, i) * 1000);
                }
            }
        };

        // --- SAFE IMAGE COMPONENT ---
        const SafeImage = ({ src, className }) => {
            const [error, setError] = useState(false);
            if (error) {
                return (
                    <div className={`${className} img-error`}>
                        <span className="font-bold block mb-1 text-xs text-gray-500">IMAGE MISSING</span>
                        <span className="text-[10px] text-gray-400 break-all">{src}</span>
                    </div>
                );
            }
            return <img src={src} className={className} onError={() => setError(true)} />;
        };

        const ConfettiCanvas = ({ isActive }) => {
            const canvasRef = useRef(null);
            const animationFrameId = useRef(null);
            useEffect(() => {
                if (isActive) {
                    const canvas = canvasRef.current;
                    const ctx = canvas.getContext('2d');
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    const particles = Array.from({length: 300}, () => ({
                        x: canvas.width / 2, y: canvas.height / 2 + 100,
                        size: Math.random() * 8 + 4, speedX: Math.random() * 6 - 3, speedY: Math.random() * -15 - 5,
                        color: ['#f9a8d4', '#d8b4fe', '#fcd34d', '#ffffff'][Math.floor(Math.random() * 4)],
                        life: 100, decay: Math.random() * 0.5 + 1
                    }));
                    const animate = () => {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        particles.forEach((p, index) => {
                            p.x += p.speedX; p.y += p.speedY; p.speedY += 0.5; p.life -= p.decay; p.size *= 0.96;
                            ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
                            if (p.life <= 0 || p.size <= 0.1) particles.splice(index, 1);
                        });
                        if (particles.length > 0) animationFrameId.current = requestAnimationFrame(animate);
                    };
                    animate();
                }
                return () => cancelAnimationFrame(animationFrameId.current);
            }, [isActive]);
            return <canvas ref={canvasRef} className={`fixed inset-0 pointer-events-none z-50 ${isActive ? 'block' : 'hidden'}`} />;
        };

        const FileUpload = ({ onUpload, id, accept = "image/*" }) => {
            const fileInputRef = useRef(null);
            const handleChange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const url = URL.createObjectURL(file);
                    onUpload(url);
                }
            };
            return (
                <React.Fragment>
                    <input type="file" ref={fileInputRef} onChange={handleChange} accept={accept} className="hidden" />
                    <button onClick={() => fileInputRef.current.click()} className="absolute bottom-4 right-4 bg-white/80 backdrop-blur-sm p-3 rounded-full shadow-lg hover:bg-white text-pink-400 transition-all z-20 group border-2 border-pink-100" title="Change media">
                        <Camera className="w-5 h-5 group-hover:scale-110 transition-transform" />
                    </button>
                </React.Fragment>
            );
        };

        const SectionHeading = ({ title, subtitle, icon: Icon }) => (
            <div className="text-center mb-16 relative">
                <div className="inline-flex items-center justify-center p-4 bg-pink-50 rounded-full mb-6 ring-4 ring-pink-100 shadow-sm">
                    {Icon && <Icon className="w-8 h-8 text-pink-400" />}
                </div>
                <h2 className="text-4xl md:text-5xl font-extrabold text-gray-800 font-serif mb-4 tracking-wide">{title}</h2>
                <div className="flex items-center justify-center gap-2 mb-6">
                    <div className="h-px w-12 bg-pink-300"></div>
                    <Heart className="w-4 h-4 text-pink-400 fill-pink-400" />
                    <div className="h-px w-12 bg-pink-300"></div>
                </div>
                <p className="text-xl text-gray-500 max-w-2xl mx-auto font-light leading-relaxed">{subtitle}</p>
            </div>
        );

        const Navbar = ({ isPlaying, toggleAudio }) => (
            <nav className="fixed w-full z-40 bg-white/90 backdrop-blur-md shadow-sm border-b border-pink-100">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-20 items-center">
                        <div className="flex items-center gap-3">
                            <div className="bg-pink-100 p-2 rounded-full"><Crown className="w-6 h-6 text-pink-500" /></div>
                            <span className="font-serif text-2xl font-bold text-gray-800 tracking-wide">Queen <span className="text-pink-500">Anu</span></span>
                        </div>
                        <button onClick={toggleAudio} className={`flex items-center gap-2 px-6 py-2.5 rounded-full transition-all duration-300 shadow-sm ${isPlaying ? 'bg-pink-100 text-pink-600 ring-2 ring-pink-200' : 'bg-white border border-pink-200 text-gray-600 hover:bg-pink-50'}`}>
                            {isPlaying ? <Pause className="w-4 h-4" /> : <Play className="w-4 h-4" />}
                            <span className="text-sm font-medium">{isPlaying ? 'Playing Melody' : 'Play Music'}</span>
                        </button>
                    </div>
                </div>
            </nav>
        );

        const Hero = ({ triggerConfetti }) => {
            const [heroImage, setHeroImage] = useState(MEDIA.hero);
            const spotifyLink = "https://open.spotify.com/playlist/37i9dQZF1DXcBWIGoYBM5M";

            return (
                <div className="relative pt-32 pb-20 lg:pt-40 lg:pb-32 overflow-hidden bg-gradient-to-b from-pink-50 via-white to-pink-50">
                    <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                        <div className="absolute top-10 right-10 text-pink-200 opacity-50"><Sparkles className="w-12 h-12" /></div>
                        <div className="absolute bottom-20 left-20 text-pink-200 opacity-50"><Sparkles className="w-16 h-16" /></div>
                        <div className="absolute top-1/2 left-10 w-64 h-64 bg-pink-200 rounded-full blur-3xl opacity-20"></div>
                        <div className="absolute bottom-10 right-10 w-96 h-96 bg-purple-200 rounded-full blur-3xl opacity-20"></div>
                    </div>
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <div className="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
                            <div className="lg:w-1/2 text-center lg:text-left">
                                <div className="inline-flex items-center gap-2 mb-8 px-5 py-2 rounded-full border border-pink-200 bg-white/80 backdrop-blur text-pink-500 text-sm font-semibold tracking-wider uppercase shadow-sm">
                                    <Crown className="w-3.5 h-3.5" /> <span>Anu, You are cherished</span> <Crown className="w-3.5 h-3.5" />
                                </div>
                                <h1 className="text-5xl md:text-6xl lg:text-7xl font-extrabold text-gray-800 font-serif mb-6 leading-tight">
                                    To Anu, The Princess of <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">My Entire World</span>
                                </h1>
                                <p className="max-w-2xl mx-auto lg:mx-0 text-xl text-gray-500 mb-8 leading-relaxed font-light">
                                    Every day with you feels like a page out of a fairy tale. Thank you for filling my life with magic, love, and endless happiness.
                                </p>
                                <div className="flex flex-wrap gap-4 justify-center lg:justify-start mb-8 lg:mb-0">
                                    <button onClick={triggerConfetti} className="bg-white/95 backdrop-blur text-pink-500 px-8 py-4 rounded-full font-bold shadow-xl hover:scale-105 transition-transform inline-flex items-center gap-3 border border-pink-100">
                                        <Gift className="w-5 h-5" /> Send Love
                                    </button>
                                    <a href={spotifyLink} target="_blank" rel="noopener noreferrer" className="bg-green-500 text-white px-8 py-4 rounded-full font-bold shadow-xl hover:bg-green-600 hover:scale-105 transition-all inline-flex items-center gap-3">
                                        <Headphones className="w-5 h-5" /> Our Playlist
                                    </a>
                                </div>
                            </div>
                            <div className="lg:w-1/2 relative group w-full">
                                <div className="absolute -inset-4 border-2 border-dashed border-pink-200 rounded-[2rem] z-0 animate-spin-slow" style={{ animationDuration: '60s' }}></div>
                                <div className="absolute -inset-1 bg-gradient-to-r from-pink-200 to-purple-200 rounded-[1.5rem] blur opacity-50 group-hover:opacity-80 transition duration-500"></div>
                                <div className="relative rounded-[1.5rem] overflow-hidden aspect-[4/5] bg-white shadow-2xl border-4 border-white">
                                    <SafeImage src={heroImage} className="w-full h-full object-cover transform group-hover:scale-105 transition duration-1000 ease-out" />
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-60"></div>
                                    <FileUpload onUpload={setHeroImage} id="hero" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const OurJourney = () => {
            const [milestones, setMilestones] = useState([
                { id: 1, year: "2013", title: "Class 6 - Where It Began", description: "Two kids in a classroom, not knowing they were about to start the most beautiful story ever told.", icon: Heart, image: MEDIA.class6 },
                { id: 2, year: "Now", title: "Forever & Always", description: "Years have passed, we've grown up side by side, and my love for you has only grown stronger.", icon: Crown, image: MEDIA.now }
            ]);
            const updateMilestoneImage = (id, newSrc) => {
                setMilestones(milestones.map(m => m.id === id ? { ...m, image: newSrc } : m));
            };
            return (
                <div className="py-24 bg-pink-50/30">
                    <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                        <SectionHeading title="Our Journey" subtitle="From Class 6 to forever, every moment with you is a treasure." icon={Calendar} />
                        <div className="relative">
                            <div className="absolute left-4 md:left-1/2 transform md:-translate-x-1/2 h-full w-0.5 bg-pink-200"></div>
                            <div className="space-y-12">
                                {milestones.map((milestone, index) => {
                                    const IconComponent = milestone.icon;
                                    return (
                                        <div key={milestone.id} className={`relative flex flex-col md:flex-row items-center ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
                                            <div className="w-full md:w-1/2 pl-12 md:pl-0 md:px-8">
                                                <div className={`bg-white p-6 rounded-2xl shadow-md border border-pink-100 hover:shadow-xl transition-all ${index % 2 === 0 ? 'md:text-left' : 'md:text-right'}`}>
                                                    <div className={`flex flex-col ${index % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'} gap-4 items-center`}>
                                                        <div className="flex-1">
                                                            <span className="inline-block px-3 py-1 bg-pink-100 text-pink-600 text-sm font-bold rounded-full mb-3">{milestone.year}</span>
                                                            <h3 className="text-xl font-bold text-gray-800 mb-2">{milestone.title}</h3>
                                                            <p className="text-gray-600 font-light text-sm">{milestone.description}</p>
                                                        </div>
                                                        <div className="relative w-24 h-24 flex-shrink-0 group">
                                                            <SafeImage src={milestone.image} className="w-full h-full object-cover rounded-lg border-2 border-pink-100 shadow-sm" />
                                                            <FileUpload onUpload={(src) => updateMilestoneImage(milestone.id, src)} id={`j-${milestone.id}`} />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="absolute left-4 md:left-1/2 transform -translate-x-1/2 w-10 h-10 bg-white border-4 border-pink-300 rounded-full flex items-center justify-center z-10 shadow-sm">
                                                <IconComponent className="w-4 h-4 text-pink-500" />
                                            </div>
                                            <div className="hidden md:block w-1/2"></div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Gallery = () => {
            const [photos, setPhotos] = useState([
                { id: 1, src: MEDIA.gallery1, caption: "My Sunshine ‚òÄÔ∏è" },
                { id: 2, src: MEDIA.gallery2, caption: "Partner in Crime üïµÔ∏è‚Äç‚ôÄÔ∏è" },
                { id: 3, src: MEDIA.gallery3, caption: "That Beautiful Smile üòç" },
                { id: 4, src: MEDIA.gallery4, caption: "My Happy Place üè°" },
                { id: 5, src: MEDIA.gallery5, caption: "Life is Better with You ‚ù§Ô∏è" },
                { id: 6, src: MEDIA.gallery6, caption: "Simply Perfection ‚ú®" },
            ]);
            const updatePhoto = (id, newSrc) => setPhotos(photos.map(p => p.id === id ? { ...p, src: newSrc } : p));
            return (
                <div className="bg-white py-24">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <SectionHeading title="Anu's Gallery" subtitle="A collection of my favorite photos of you." icon={ImageIcon} />
                        <div className="grid md:grid-cols-3 gap-10">
                            {photos.map((p) => (
                                <div key={p.id} className="relative group bg-white p-4 rounded-t-full rounded-b-3xl shadow-lg border border-pink-50">
                                    <div className="relative aspect-[3/4] overflow-hidden rounded-t-[100px] rounded-b-xl">
                                        <SafeImage src={p.src} className="w-full h-full object-cover" />
                                        <div className="absolute inset-0 bg-pink-500/0 group-hover:bg-pink-500/10 transition-colors duration-300"></div>
                                        <FileUpload onUpload={(src) => updatePhoto(p.id, src)} id={`g-${p.id}`} />
                                    </div>
                                    <p className="pt-6 pb-2 text-center font-serif italic text-xl text-gray-700">{p.caption}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const OpenWhenLetters = () => {
            const [activeLetter, setActiveLetter] = useState(null);
            const letters = [
                { id: 1, title: "Open when you miss me", content: "Chop karo air ao galay galay karay", icon: "üíå", color: "bg-pink-100" },
                { id: 2, title: "Open when you need a smile", content: "Stop frowning, you'll get wrinkles! Just kidding, you're perfect. But seriously, smile! I love you more than I love annoying you... and you know that's my favorite hobby. üòâ", icon: "üòÑ", color: "bg-purple-100" },
                { id: 3, title: "Open when you feel stressed", content: "You are stronger than you know. Take it one step at a time. I believe in you more than anyone else in this world. You've got this, Anu.", icon: "üåø", color: "bg-green-100" },
                { id: 4, title: "Open when you can't sleep", content: "Look up at the moon. I'm looking at it too. Let the stars be your nightlight and my love be your blanket. Shaba khair, beautiful.", icon: "üåô", color: "bg-indigo-100" }
            ];
            return (
                <div className="py-24 bg-pink-50/50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <SectionHeading title="Letters for My Love" subtitle="Little reminders for every mood, just for you." icon={Mail} />
                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                            {letters.map((l) => (
                                <button key={l.id} onClick={() => setActiveLetter(l)} className={`${l.color} p-8 rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all text-center border border-white/50`}>
                                    <div className="text-4xl mb-4">{l.icon}</div>
                                    <h3 className="font-serif font-bold text-gray-800 text-lg">{l.title}</h3>
                                </button>
                            ))}
                        </div>
                        {activeLetter && (
                            <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in">
                                <div className="bg-white rounded-2xl p-8 max-w-lg w-full relative shadow-2xl border-4 border-pink-100 text-center">
                                    <button onClick={() => setActiveLetter(null)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><X className="w-6 h-6" /></button>
                                    <div className="text-4xl mb-4">{activeLetter.icon}</div>
                                    <h3 className="text-2xl font-serif font-bold text-gray-900 mb-4">{activeLetter.title}</h3>
                                    <div className="h-px w-24 bg-pink-200 mx-auto mb-6"></div>
                                    <p className="text-gray-600 text-lg font-handwriting italic">"{activeLetter.content}"</p>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const ReasonsWhy = () => {
            const [currentReason, setCurrentReason] = useState(null);
            const [isAnimating, setIsAnimating] = useState(false);
            const reasons = ["The way your eyes sparkle when you laugh.", "How you make everyone around you feel special.", "Your incredible kindness.", "The way you scrunch your nose.", "Your unwavering support.", "Simply because you are you."]; // Shortened for brevity
            const getRandomReason = () => {
                setIsAnimating(true);
                setTimeout(() => { setCurrentReason(reasons[Math.floor(Math.random() * reasons.length)]); setIsAnimating(false); }, 500);
            };
            return (
                <div className="py-24 bg-white">
                    <div className="max-w-4xl mx-auto px-4 text-center">
                        <SectionHeading title="100 Reasons Why" subtitle="I could list a million, but let's start with a few." icon={Quote} />
                        <div className="bg-gradient-to-br from-pink-50 to-purple-50 rounded-3xl p-10 shadow-lg border border-pink-100 min-h-[200px] flex flex-col items-center justify-center">
                            {currentReason ? <p className="text-2xl md:text-3xl font-serif text-gray-800 leading-tight animate-fade-in">{currentReason}</p> : <p className="text-xl text-gray-500 font-light italic">Click to reveal...</p>}
                            <div className="mt-8"><button onClick={getRandomReason} disabled={isAnimating} className="px-8 py-3 bg-pink-500 text-white rounded-full font-bold shadow-md hover:bg-pink-600 flex items-center gap-2"><Shuffle className="w-4 h-4" /> Tell Me Why</button></div>
                        </div>
                    </div>
                </div>
            );
        };

        const MagicWand = () => {
            const [activeTab, setActiveTab] = useState('horoscope');
            const [input, setInput] = useState('');
            const [result, setResult] = useState('');
            const [loading, setLoading] = useState(false);
            const generateMagic = async () => {
                if (!input.trim()) return;
                setLoading(true);
                if (activeTab === 'calculator') {
                    await new Promise(r => setTimeout(r, 2000));
                    const names = input.toLowerCase();
                    if (names.includes('sarmad') && (names.includes('anu') || names.includes('ayena'))) setResult("‚ù§Ô∏è Compatibility: 1000% - Soulmates Forever! üíç");
                    else setResult("‚ùì Unknown Pair. Calibrated only for Sarmad & Anu.");
                    setLoading(false); return;
                }
                const p = activeTab === 'horoscope' ? `Horoscope for Anu on ${input}` : activeTab === 'poem' ? `Poem about ${input}` : `Date idea: ${input}`;
                const text = await callGemini(p);
                setResult(text); setLoading(false);
            };
            return (
                <div className="py-24 bg-white relative">
                    <div className="max-w-4xl mx-auto px-4 relative z-10">
                        <SectionHeading title="The Royal Scribe" subtitle="Use a little magic to create something special." icon={Wand2} />
                        <div className="bg-pink-50 rounded-3xl p-8 border border-pink-100 shadow-xl">
                            <div className="flex flex-wrap justify-center gap-4 mb-8">
                                {['horoscope', 'poem', 'date', 'calculator'].map(t => (
                                    <button key={t} onClick={() => {setActiveTab(t); setResult('');}} className={`px-4 py-2 rounded-full font-bold capitalize ${activeTab === t ? 'bg-pink-500 text-white' : 'bg-white text-pink-400'}`}>{t}</button>
                                ))}
                            </div>
                            <div className="flex gap-4">
                                <input type={activeTab === 'horoscope' ? 'date' : 'text'} value={input} onChange={e => setInput(e.target.value)} className="flex-1 p-3 rounded-xl border border-pink-200" placeholder="Enter details..." />
                                <button onClick={generateMagic} className="bg-pink-500 text-white px-6 rounded-xl font-bold">{loading ? "..." : "Reveal"}</button>
                            </div>
                            {result && <div className="mt-8 p-6 bg-white rounded-xl text-center animate-fade-in">{result}</div>}
                        </div>
                    </div>
                </div>
            );
        };

        const Messages = () => {
            const msgs = [{t:"My Appreciation", c:"For the little things."}, {t:"My Love", c:"You are beautiful."}, {t:"My Promise", c:"Always by your side."}];
            return (
                <div className="py-24 bg-pink-50"><div className="max-w-7xl mx-auto px-4"><SectionHeading title="Why I Adore You" subtitle="Just a few reasons." icon={MessageCircle} />
                <div className="grid md:grid-cols-3 gap-8">{msgs.map((m,i)=>(<div key={i} className="bg-white p-8 rounded-2xl shadow-sm text-center"><h3 className="text-xl font-bold mb-2">{m.t}</h3><p>{m.c}</p></div>))}</div></div></div>
            );
        };

        const Footer = () => (
            <footer className="bg-white border-t border-pink-100 py-12 text-center">
                <div className="flex flex-col items-center justify-center mb-4">
                    <div className="flex items-center gap-2"><Crown className="w-5 h-5 text-pink-400" /><span className="text-xl font-serif text-gray-800">Forever Yours</span></div>
                    <span className="text-lg font-serif text-pink-500 mt-1">sk7</span>
                </div>
                <p className="text-gray-400 text-sm">Created with all my love.</p>
            </footer>
        );

        const App = () => {
            const [showConfetti, setShowConfetti] = useState(false);
            const triggerConfetti = () => { setShowConfetti(true); setTimeout(() => setShowConfetti(false), 5000); };
            return (
                <div className="min-h-screen bg-white font-sans text-gray-900 selection:bg-pink-200">
                    <ConfettiCanvas isActive={showConfetti} />
                    <main>
                        <Hero triggerConfetti={triggerConfetti} />
                        <OurJourney />
                        <Gallery />
                        <OpenWhenLetters />
                        <ReasonsWhy />
                        <MagicWand />
                        <Messages />
                    </main>
                    <Footer />
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
